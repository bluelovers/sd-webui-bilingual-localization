
:root
{
	--bilingual-text-size-m: calc(var(--body-text-size) + 1px);
	--bilingual-text-size-s: var(--body-text-size);
	--bilingual-text-size-source: 0.8em;
}

@mixin font-size-auto($base-size, $default-size: var(--bilingual-text-size-m), $base-p: 0.85)
{
	font-size: max($default-size, calc($base-size * $base-p));
}

.bilingual__trans_wrapper
{
	display: inline-flex;
	flex-direction: column;
	align-items: center;
	font-size: var(--bilingual-text-size-m);
	line-height: 1;

	em
	{
		font-style: normal;
	}

	> em.bilingual__trans_source
	{
		font-size: var(--bilingual-text-size-source);
	}

	#settings > div.tab-nav button > &
	, #quicksettings div.tab-nav button > &
	{
		@include font-size-auto(var(--section-header-text-size))
	}

	.lg.gradio-button > &
	{
		@include font-size-auto(var(--button-large-text-size), 0.9)
	}
}

#txtimg_hr_finalres .bilingual__trans_wrapper em,
#tab_ti .output-html .bilingual__trans_wrapper em,
#tab_ti .gradio-html .bilingual__trans_wrapper em,
#sddp-dynamic-prompting .gradio-html .bilingual__trans_wrapper em,
#available_extensions .extension-tag .bilingual__trans_wrapper em,
#available_extensions .date_added .bilingual__trans_wrapper em,
#available_extensions + p > .bilingual__trans_wrapper em,
.gradio-image div[data-testid="image"] .bilingual__trans_wrapper em
{
	display: none;
}

#settings .bilingual__trans_wrapper:not(#settings .tabitem .bilingual__trans_wrapper),
label > span > .bilingual__trans_wrapper,
fieldset > span > .bilingual__trans_wrapper,
.label-wrap > span > .bilingual__trans_wrapper,
.w-full > span > .bilingual__trans_wrapper,
.context-menu-items .bilingual__trans_wrapper,
.single-select .bilingual__trans_wrapper, ul.options .inner-item + .bilingual__trans_wrapper,
.output-html .bilingual__trans_wrapper:not(th .bilingual__trans_wrapper),
.gradio-html .bilingual__trans_wrapper:not(th .bilingual__trans_wrapper, .posex_cont .bilingual__trans_wrapper),
.output-markdown .bilingual__trans_wrapper,
.gradio-markdown .bilingual__trans_wrapper,
.gradio-image > div.float .bilingual__trans_wrapper,
.gradio-file > div.float .bilingual__trans_wrapper,
.gradio-code > div.float .bilingual__trans_wrapper,
.posex_setting_cont .bilingual__trans_wrapper:not(.posex_bg .bilingual__trans_wrapper), /* Posex extension */
#dynamic-prompting .bilingual__trans_wrapper
{
	font-size: var(--bilingual-text-size-s);
	align-items: flex-start;
}

#extensions label .bilingual__trans_wrapper,
#available_extensions td .bilingual__trans_wrapper,
.label-wrap > span > .bilingual__trans_wrapper
{
	font-size: inherit;
	line-height: inherit;
}

.label-wrap > span:first-of-type
{
	font-size: var(--bilingual-text-size-m);
	line-height: 1;
}

#txt2img_script_container > div
{
	margin-top: var(--layout-gap, 12px);
}

textarea::placeholder
{
	line-height: 1;
	padding: 4px 0;
}

label > span
{
	line-height: 1;
}

div[data-testid="image"]
{
	.start-prompt
	{
		background-color: rgba(255, 255, 255, .6);
		color: #222;
		transition: opacity .2s ease-in-out;
	}

	&:hover .start-prompt
	{
		opacity: 0;
	}
}

.label-wrap > span.icon
{
	width: 1em;
	height: 1em;
	transform-origin: center center;
}

.gradio-dropdown ul.options li.item
{
	padding: 0.3em 0.4em !important;
}

/* Posex extension */
.posex_bg
{
	white-space: nowrap;
}
